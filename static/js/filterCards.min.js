document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".card");const a=document.querySelectorAll(".filter-controls a");const e=document.querySelector("#all-projects-filter");if(!t.length||!a.length)return;e.style.display="block";a.forEach(t=>{const e=t.getAttribute("href");if(e){const n=e.split("/").filter(Boolean).pop();t.setAttribute("href",`#${n}`)}});const n=new Map(Array.from(a).map(t=>[t.dataset.filter,t]));const s=Array.from(t).map(t=>({element:t,tags:t.dataset.tags?.toLowerCase().split(",").filter(Boolean)??[]}));function r(t){return t?decodeURIComponent(t.slice(1)):""}function o(){if(!window.location.hash)return"all";const e=r(window.location.hash);const t=Array.from(a).find(t=>t.getAttribute("href")===`#${e}`);return t?.dataset.filter??"all"}function l(r){const t=r==="all";const e=t?"":"none";const n=t?"false":"true";requestAnimationFrame(()=>{a.forEach(t=>{const e=t.dataset.filter===r;t.classList.toggle("active",e);t.setAttribute("aria-pressed",e)});if(t){s.forEach(({element:t})=>{t.style.display=e;t.setAttribute("aria-hidden",n)})}else{s.forEach(({element:t,tags:e})=>{const n=e.includes(r);t.style.display=n?"":"none";t.setAttribute("aria-hidden",!n)})}})}const i=a[0].parentElement.parentElement;i.addEventListener("click",t=>{const e=t.target.closest("a");if(!e)return;t.preventDefault();const n=e.dataset.filter;if(n)l(n)});i.addEventListener("keydown",t=>{const e=t.target.closest("a");if(!e)return;if(t.key===" "||t.key==="Enter"){t.preventDefault();e.click()}});a.forEach(t=>{t.setAttribute("role","button");t.setAttribute("aria-pressed",t.classList.contains("active"))});window.addEventListener("popstate",()=>{l(o(),false)});const c=o();if(c!=="all"){l(c,false)}});